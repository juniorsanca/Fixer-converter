{"remainingRequest":"/Users/user/Desktop/com-dep-reg-o/node_modules/babel-loader/lib/index.js!/Users/user/Desktop/com-dep-reg-o/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/user/Desktop/com-dep-reg-o/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/user/Desktop/com-dep-reg-o/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/user/Desktop/com-dep-reg-o/src/components/communes/RechercheCommunes.vue?vue&type=template&id=d480a5bc","dependencies":[{"path":"/Users/user/Desktop/com-dep-reg-o/src/components/communes/RechercheCommunes.vue","mtime":1612737329606},{"path":"/Users/user/Desktop/com-dep-reg-o/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/com-dep-reg-o/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/user/Desktop/com-dep-reg-o/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/user/Desktop/com-dep-reg-o/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/com-dep-reg-o/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrIH0gZnJvbSAidnVlIjsKCnZhciBfaG9pc3RlZF8xID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIlJFQ0hFUkNIRVIiKTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoInJlc2V0Iik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2lvbl9pbnB1dCA9IF9yZXNvbHZlQ29tcG9uZW50KCJpb24taW5wdXQiKTsKCiAgdmFyIF9jb21wb25lbnRfaW9uX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJpb24tYnV0dG9uIik7CgogIHZhciBfY29tcG9uZW50X2lvbl90b29sYmFyID0gX3Jlc29sdmVDb21wb25lbnQoImlvbi10b29sYmFyIik7CgogIHZhciBfY29tcG9uZW50X1Jlc3VsdGF0RGVSZWNoZXJjaGUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiUmVzdWx0YXREZVJlY2hlcmNoZSIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZVZOb2RlKCJmb3JtIiwgewogICAgb25TdWJtaXQ6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMub25TdWJtaXQgJiYgJG9wdGlvbnMub25TdWJtaXQuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9pb25fdG9vbGJhciwgewogICAgY29sb3I6ICJsaWdodCIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaW9uX2lucHV0LCB7CiAgICAgICAgaWQ6ICJ2aWxsZSIsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICJtYXJnaW4tbGVmdCI6ICIxMHB4IgogICAgICAgIH0sCiAgICAgICAgbmFtZTogInZpbGxlIiwKICAgICAgICB2YWx1ZTogJGRhdGEudmlsbGUsCiAgICAgICAgb25JbnB1dDogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJGRhdGEudmlsbGUgPSAkZXZlbnQudGFyZ2V0LnZhbHVlOwogICAgICAgIH0pLAogICAgICAgICJzaG93LWNhbmNlbC1idXR0b24iOiAibmV2ZXIiLAogICAgICAgIHBsYWNlaG9sZGVyOiAiQ29kZSBwb3N0YWwgb3UgdmlsbGUiLAogICAgICAgIGNsYXNzOiAic2VhcmNoIgogICAgICB9LCBudWxsLCA4CiAgICAgIC8qIFBST1BTICovCiAgICAgICwgWyJ2YWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaW9uX2J1dHRvbiwgewogICAgICAgIGV4cGFuZDogImZ1bGwiLAogICAgICAgIHR5cGU6ICJzdWJtaXQiLAogICAgICAgIGNvbG9yOiAiZGFyayIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfMV07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICAgIC8qIFNUQUJMRSAqLwoKICAgICAgfSldOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSldLCAzMgogIC8qIEhZRFJBVEVfRVZFTlRTICovCiAgKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaW9uX2J1dHRvbiwgewogICAgZXhwYW5kOiAiZnVsbCIsCiAgICBjb2xvcjogImxpZ2h0IiwKICAgIG9uQ2xpY2s6ICRvcHRpb25zLnJlbG9hZFBhZ2UKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfMl07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfUmVzdWx0YXREZVJlY2hlcmNoZSwgewogICAgcmVzdWx0OiAkZGF0YS5yZXN1bHQKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsicmVzdWx0Il0pXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["/Users/user/Desktop/com-dep-reg-o/src/components/communes/RechercheCommunes.vue"],"names":[],"mappings":";;+CAUiE,Y;;+CAGA,O;;;;;;;;;;;sDAZ7D,YAAA,CAWO,MAXP,EAWO;AAXA,IAAA,QAAM,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,QAAA,IAAA,QAAA,CAAA,QAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAWN,GAXP,E,CACI,YAAA,CASc,sBATd,EASc;AATD,IAAA,KAAK,EAAC;AASL,GATd,EAA0B;sBACtB;AAAA,aAMY,CANZ,YAAA,CAMY,oBANZ,EAMY;AANA,QAAA,EAAE,EAAC,OAMH;AANW,QAAA,KAAyB,EAAzB;AAAA,yBAAA;AAAA,SAMX;AALA,QAAA,IAAI,EAAC,OAKL;AAJC,QAAA,KAAK,EAAE,KAAA,CAAA,KAIR;AAHC,QAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,KAAA,CAAA,KAAA,GAAQ,MAAM,CAAC,MAAP,CAAc,KAAxB;AAAA,SAAA,CAGN;AAHqC,8BAAmB,OAGxD;AAFA,QAAA,WAAW,EAAC,sBAEZ;AADA,QAAA,KAAK,EAAC;AACN,OANZ,E,IAAA,E;;AAAA,Q,SAAA,CAMY,EACZ,YAAA,CAA4E,qBAA5E,EAA4E;AAAhE,QAAA,MAAM,EAAC,MAAyD;AAAlD,QAAA,IAAI,EAAC,QAA6C;AAApC,QAAA,KAAK,EAAC;AAA8B,OAA5E,E;0BAAqD;AAAA,iBAAU,C,UAAA,CAAV;AAAA,S;;;;OAArD,CADY,CANZ;AAAA,K,CADsB;;;;AAAA,GAA1B,C,CADJ,E;;AAAA,G,EAYA,YAAA,CAA+E,qBAA/E,EAA+E;AAAnE,IAAA,MAAM,EAAC,MAA4D;AAArD,IAAA,KAAK,EAAC,OAA+C;AAAtC,IAAA,OAAK,EAAE,QAAA,CAAA;AAA+B,GAA/E,E;sBAA6D;AAAA,aAAK,C,UAAA,CAAL;AAAA,K;;;;GAA7D,E;;AAAA,I,WAAA,C,EACA,YAAA,CAA6C,8BAA7C,EAA6C;AAAjB,IAAA,MAAM,EAAE,KAAA,CAAA;AAAS,GAA7C,EAA0C,IAA1C,EAA0C;AAAA;AAA1C,IAA0C,CAAA,QAAA,CAA1C,C","sourcesContent":["<template>\n    <form @submit=\"onSubmit\">\n        <ion-toolbar color=\"light\">\n            <ion-input  id=\"ville\" style=\"margin-left: 10px\"\n                        name=\"ville\"\n                        :value=\"ville\"\n                        @input=\"ville = $event.target.value\" show-cancel-button=\"never\"\n                        placeholder=\"Code postal ou ville\"\n                        class=\"search\">\n            </ion-input>\n            <ion-button expand=\"full\" type=\"submit\" color=\"dark\">RECHERCHER</ion-button>\n        </ion-toolbar>\n    </form>\n    <ion-button expand=\"full\" color=\"light\" @click=\"reloadPage\" >reset</ion-button>\n    <ResultatDeRecherche v-bind:result=\"result\"/>\n</template>\n<script>\n    import ResultatDeRecherche from \"@/components/communes/ResultatDeRecherche\";\n    import axios from \"axios\";\n    export default {\n        name: 'RechercheCommunes',\n        components: {\n            ResultatDeRecherche,\n        },\n        data () {\n            return {\n                ville: \"\",\n                result:null,\n            };\n        },\n        methods: {\n            onSubmit(e){\n                e.preventDefault(this.ville)\n                console.log(this.ville)\n                {\n                    const isValidName = /^[a-zA-Z]+$/.test(this.ville)\n                    const isValidZip = /^[0-9]{5}?$/.test(this.ville)\n                    if (isValidZip){\n                        axios.get(`https://geo.api.gouv.fr/communes?codePostal=${this.ville}` )\n                            .then((response) => {\n                                response.data\n                                this.result = response.data\n                                console.log(this.result)\n                            });\n                    } else {\n                        if (isValidName)\n                            axios.get(`https://geo.api.gouv.fr/communes?nom=${this.ville}&boost=population&fields=population,departement,codesPostaux,region` )\n                                .then((response) => {\n                                    response.data\n                                        this.result = response.data\n                                        console.log(this.result)\n                              });\n                        if (!isValidName || this.ville === \"\"){\n                            alert('veuillez entrer une ville ou code postal valide, merci!');\n                        }\n                    }\n                }\n            },\n            reloadPage(){\n                this.result = null\n            }\n        },\n    };\n</script>"],"sourceRoot":""}]}