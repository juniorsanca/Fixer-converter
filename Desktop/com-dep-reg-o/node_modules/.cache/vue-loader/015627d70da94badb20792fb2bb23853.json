{"remainingRequest":"/Users/user/Desktop/com-dep-reg-o/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/user/Desktop/com-dep-reg-o/src/components/communes/RechercheCommunes.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/user/Desktop/com-dep-reg-o/src/components/communes/RechercheCommunes.vue","mtime":1612737329606},{"path":"/Users/user/Desktop/com-dep-reg-o/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/com-dep-reg-o/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/user/Desktop/com-dep-reg-o/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/com-dep-reg-o/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBpbXBvcnQgUmVzdWx0YXREZVJlY2hlcmNoZSBmcm9tICJAL2NvbXBvbmVudHMvY29tbXVuZXMvUmVzdWx0YXREZVJlY2hlcmNoZSI7CiAgICBpbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwogICAgZXhwb3J0IGRlZmF1bHQgewogICAgICAgIG5hbWU6ICdSZWNoZXJjaGVDb21tdW5lcycsCiAgICAgICAgY29tcG9uZW50czogewogICAgICAgICAgICBSZXN1bHRhdERlUmVjaGVyY2hlLAogICAgICAgIH0sCiAgICAgICAgZGF0YSAoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB2aWxsZTogIiIsCiAgICAgICAgICAgICAgICByZXN1bHQ6bnVsbCwKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgICAgb25TdWJtaXQoZSl7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KHRoaXMudmlsbGUpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnZpbGxlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVmFsaWROYW1lID0gL15bYS16QS1aXSskLy50ZXN0KHRoaXMudmlsbGUpCiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNWYWxpZFppcCA9IC9eWzAtOV17NX0/JC8udGVzdCh0aGlzLnZpbGxlKQogICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkWmlwKXsKICAgICAgICAgICAgICAgICAgICAgICAgYXhpb3MuZ2V0KGBodHRwczovL2dlby5hcGkuZ291di5mci9jb21tdW5lcz9jb2RlUG9zdGFsPSR7dGhpcy52aWxsZX1gICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdCA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJlc3VsdCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkTmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF4aW9zLmdldChgaHR0cHM6Ly9nZW8uYXBpLmdvdXYuZnIvY29tbXVuZXM/bm9tPSR7dGhpcy52aWxsZX0mYm9vc3Q9cG9wdWxhdGlvbiZmaWVsZHM9cG9wdWxhdGlvbixkZXBhcnRlbWVudCxjb2Rlc1Bvc3RhdXgscmVnaW9uYCApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5yZXN1bHQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWROYW1lIHx8IHRoaXMudmlsbGUgPT09ICIiKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCd2ZXVpbGxleiBlbnRyZXIgdW5lIHZpbGxlIG91IGNvZGUgcG9zdGFsIHZhbGlkZSwgbWVyY2khJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlbG9hZFBhZ2UoKXsKICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gbnVsbAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgIH07Cg=="},{"version":3,"sources":["/Users/user/Desktop/com-dep-reg-o/src/components/communes/RechercheCommunes.vue"],"names":[],"mappings":";IAiBI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3E,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACX,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvB,CAAC;QACD,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;YACJ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;gBACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;gBACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACf,CAAC;QACL,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtB;oBACI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACjD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAChD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;4BAClE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE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","file":"/Users/user/Desktop/com-dep-reg-o/src/components/communes/RechercheCommunes.vue","sourceRoot":"","sourcesContent":["<template>\n    <form @submit=\"onSubmit\">\n        <ion-toolbar color=\"light\">\n            <ion-input  id=\"ville\" style=\"margin-left: 10px\"\n                        name=\"ville\"\n                        :value=\"ville\"\n                        @input=\"ville = $event.target.value\" show-cancel-button=\"never\"\n                        placeholder=\"Code postal ou ville\"\n                        class=\"search\">\n            </ion-input>\n            <ion-button expand=\"full\" type=\"submit\" color=\"dark\">RECHERCHER</ion-button>\n        </ion-toolbar>\n    </form>\n    <ion-button expand=\"full\" color=\"light\" @click=\"reloadPage\" >reset</ion-button>\n    <ResultatDeRecherche v-bind:result=\"result\"/>\n</template>\n<script>\n    import ResultatDeRecherche from \"@/components/communes/ResultatDeRecherche\";\n    import axios from \"axios\";\n    export default {\n        name: 'RechercheCommunes',\n        components: {\n            ResultatDeRecherche,\n        },\n        data () {\n            return {\n                ville: \"\",\n                result:null,\n            };\n        },\n        methods: {\n            onSubmit(e){\n                e.preventDefault(this.ville)\n                console.log(this.ville)\n                {\n                    const isValidName = /^[a-zA-Z]+$/.test(this.ville)\n                    const isValidZip = /^[0-9]{5}?$/.test(this.ville)\n                    if (isValidZip){\n                        axios.get(`https://geo.api.gouv.fr/communes?codePostal=${this.ville}` )\n                            .then((response) => {\n                                response.data\n                                this.result = response.data\n                                console.log(this.result)\n                            });\n                    } else {\n                        if (isValidName)\n                            axios.get(`https://geo.api.gouv.fr/communes?nom=${this.ville}&boost=population&fields=population,departement,codesPostaux,region` )\n                                .then((response) => {\n                                    response.data\n                                        this.result = response.data\n                                        console.log(this.result)\n                              });\n                        if (!isValidName || this.ville === \"\"){\n                            alert('veuillez entrer une ville ou code postal valide, merci!');\n                        }\n                    }\n                }\n            },\n            reloadPage(){\n                this.result = null\n            }\n        },\n    };\n</script>"]}]}